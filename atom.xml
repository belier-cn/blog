<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://blog.belier.cn</id>
    <title>Blog</title>
    <updated>2019-09-08T09:59:39.312Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://blog.belier.cn"/>
    <link rel="self" href="https://blog.belier.cn/atom.xml"/>
    <logo>https://blog.belier.cn/images/avatar.png</logo>
    <icon>https://blog.belier.cn/favicon.ico</icon>
    <rights>All rights reserved 2019, Blog</rights>
    <entry>
        <title type="html"><![CDATA[Centos7 安装 Docker ]]></title>
        <id>https://blog.belier.cn/post/centos7-install-docker</id>
        <link href="https://blog.belier.cn/post/centos7-install-docker">
        </link>
        <updated>2019-09-08T09:50:37.000Z</updated>
        <content type="html"><![CDATA[<h2 id="一键安装脚本">一键安装脚本</h2>
<pre><code class="language-sh">curl -sSL https://get.docker.com/ | sh
</code></pre>
<blockquote>
<p>推荐国外服务器使用，国内使用手动安装</p>
</blockquote>
<h2 id="手动安装">手动安装</h2>
<h3 id="安装准备">安装准备</h3>
<ol>
<li>查看 CentOS 系统的内核版本是否高于 3.10</li>
</ol>
<pre><code class="language-sh">uname -r 
</code></pre>
<ol start="2">
<li>移除旧的版本</li>
</ol>
<pre><code class="language-sh">sudo yum remove docker \
                docker-client \
                docker-client-latest \
                docker-common \
                docker-latest \
                docker-latest-logrotate \
                docker-logrotate \
                docker-selinux \
                docker-engine-selinux \
                docker-engine
</code></pre>
<ol start="3">
<li>安装所需的软件包</li>
</ol>
<pre><code class="language-sh">sudo yum install -y yum-utils device-mapper-persistent-data lvm2
</code></pre>
<ol start="4">
<li>添加源</li>
</ol>
<pre><code class="language-sh">sudo yum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo
</code></pre>
<ol start="5">
<li>更新 yum 缓存</li>
</ol>
<pre><code>sudo yum makecache fast
</code></pre>
<h3 id="安装-docker">安装 Docker</h3>
<pre><code>sudo yum -y install docker-ce
</code></pre>
<p>安装成功后查看版本，检查是否安装成功</p>
<pre><code>docker -v
</code></pre>
<h3 id="启动-docker-服务">启动 Docker 服务</h3>
<pre><code>systemctl start docker
</code></pre>
<h3 id="docker-服务命令">Docker 服务命令</h3>
<pre><code>systemctl start docker     # 启动服务
systemctl stop docker      # 关闭服务
systemctl restart docker   # 重启服务
systemctl enable docker    # 开机自启动
systemctl disable docker   # 关闭开机自启动
</code></pre>
<h3 id="配置阿里镜像加速器">配置阿里镜像加速器</h3>
<ol>
<li>开通服务</li>
</ol>
<p>地址：<a href="https://cr.console.aliyun.com/cn-shanghai/instances/mirrors">镜像加速器</a></p>
<ol start="2">
<li>配置加速器</li>
</ol>
<pre><code>sudo mkdir -p /etc/docker
sudo tee /etc/docker/daemon.json &lt;&lt;-'EOF'
{
  &quot;registry-mirrors&quot;: [&quot;你的地址&quot;]
}
EOF
sudo systemctl daemon-reload
sudo systemctl restart docker
</code></pre>
]]></content>
    </entry>
</feed>